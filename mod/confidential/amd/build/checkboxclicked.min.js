define(["jquery","core/config","core/log"],function(a,b,c){var d=function(){this.nixxxx=""},e=new d;return e.init=function(d){function f(){var b=a(this).is(":checked"),c=a(this).val();g(b,c)}function g(d,e){var f={method:"get",url:b.wwwroot+"/mod/confidential/setcontrol.php",data:{sesskey:b.sesskey,ischecked:encodeURI(d),value:encodeURI(e)},dataType:"json",beforeSend:function(){c.info("before transmit checkboxclicked isclicked: "+d+" value: "+e,"confidential")},success:function(a){var b=JSON.parse(a);c.info(b.status),"OK"==a.status?c.info("transmit checkboxclicked OK","confidential"):c.error("transmit checkboxclicked - DB UPDATE - FAILED","confidential")},error:function(){c.error("transmit checkboxclicked FAILED","confidential")}};a.ajax(f)}e.nixxxx=d.nixxxx,a(".selectcoursemodule").on("click",f)},e});