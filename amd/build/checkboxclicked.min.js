define(["jquery","core/config","core/log"],function(a,b,c){var d=function(){this.cmid=""},e=new d;return e.init=function(d){function f(){var b=a(this).is(":checked"),c=a(this).val();g(b,c)}function g(d,f){var g={method:"POST",url:b.wwwroot+"/mod/confidential/setcontrol.php",data:{sesskey:b.sesskey,ischecked:encodeURI(d),value:encodeURI(f),cmid:e.cmid},success:function(a){c.info(a)},error:function(){c.error("transmit checkboxclicked FAILED","confidential")}};a.ajax(g)}e.cmid=d.cmid,a(".selectcoursemodule").on("click",f)},e});